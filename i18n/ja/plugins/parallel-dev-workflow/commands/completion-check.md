# /completion-check

タスクまたはプロジェクト全体の完了チェックを実行。

---

## 使い方

```
/completion-check [--task XXX] [--project]
```

## 実行内容

### タスク単位チェック
```
/completion-check --task 003
```

チェック項目:
```
Task-003 完了チェック

コード品質:
  ✅ Lint通過
  ✅ 型チェック通過
  ✅ テスト通過 (15/15)

テスト品質（意味あるテスト基準）:
  ✅ 壊れたら気づくテストか？ → Yes
  ✅ リファクタリング可能にするか？ → Yes
  ✅ 適切なモック範囲か？ → Yes

完了チェックリスト:
  ✅ 受け入れ条件すべて満たす
  ✅ 不要コードの削除完了
  ⚠️ TODO/FIXMEコメント残存 (1件)

結果: 要対応 (1件の警告)
```

### プロジェクト全体チェック
```
/completion-check --project
```

出力:
```
プロジェクト完了チェック

タスク進捗:
  ✅ 20/20 タスク完了

品質メトリクス:
  ✅ 全テスト通過 (150/150)
  ✅ Lint: 0 errors, 0 warnings
  ✅ 型エラー: 0

カバレッジ:
  コアロジック: 78% (目標: 70%+) ✅
  全体: 65%

残存課題:
  ⚠️ TODO: 3件
  ⚠️ FIXME: 1件

Worktree:
  ✅ 全Worktree削除済み
  ✅ ブランチ整理完了

結果: 完了可能 (軽微な警告あり)
```

## チェック項目詳細

### コード品質
- Lint（ESLint/Prettier等）
- 型チェック（TypeScript）
- テスト実行

### テスト品質（3つの基準）
1. **壊れたら気づくか**: 本当に重要な機能をテストしているか
2. **リファクタリング可能か**: 実装詳細に依存しすぎていないか
3. **適切なモック範囲か**: 外部依存のみモックしているか

### 完了チェックリスト
- 受け入れ条件の充足
- 不要コードの削除（「追加は半分、削除で完成」）
- TODO/FIXMEの解消
- ドキュメント更新

## オプション

- `--task XXX`: 特定タスクをチェック
- `--project`: プロジェクト全体をチェック
- `--strict`: 警告も失敗扱い
- `--fix`: 自動修正可能な項目を修正

## 関連

- [quality-guardian Agent](../agents/quality-guardian.md)
- [tdd-meaningful-test Skill](../skills/tdd-meaningful-test.md)

## 次のステップ

全チェック通過後、PRを作成してマージ。
